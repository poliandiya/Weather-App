(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(5),s=n.n(a),o=(n(14),n(2)),i=n.n(o),u=n(3),l=n(6),p=n(7),h=n(9),m=n(8),d=(n(16),n(0)),f=function(e){return Object(d.jsxs)("div",{className:"Form",children:[Object(d.jsx)("div",{children:e.error?j():""}),Object(d.jsxs)("form",{onSubmit:e.loadWeather,className:"d-flex",children:[Object(d.jsx)("input",{type:"text",className:"form-control",name:"city",autoComplete:"off",placeholder:"City"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"country",autoComplete:"off",placeholder:"Country"}),Object(d.jsx)("button",{type:"submit",className:"btn btn-warning",children:"Get Weather"})]})]})},j=function(){return Object(d.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Please Enter City and Country"})},w=function(e){return Object(d.jsxs)("div",{className:"Weather",children:[Object(d.jsx)("h1",{children:e.city}),Object(d.jsx)("i",{className:"wi ".concat(e.weatherIcon)}),e.temp_celsius?Object(d.jsxs)("h1",{children:[e.temp_celsius,"\xb0"]}):null,b(e.temp_min,e.temp_max),Object(d.jsx)("h4",{children:e.description})]})};function b(e,t){if(e&&t)return Object(d.jsxs)("h3",{children:[Object(d.jsxs)("span",{children:[e,"\xb0"]}),Object(d.jsxs)("span",{children:[t,"\xb0"]})]})}var x=function(){var e=Object(u.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://api.openweathermap.org/data/2.5/weather","?q=").concat(t,",").concat(n,"&appid=").concat("3ce3d19e821ae1cfed5238064639d347")).then((function(e){if(e.ok)return e.json();if(404===e.status)return alert("No such place");throw alert("Error! Error!"),new Error("Found an error!")})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.unsplash.com/search/photos","?query=").concat(t,"&client_id=").concat("sLA1J7rLSOnQRBwTB99y8MOtUPCcD4p-X60zGQpIf5c")).then((function(e){if(e.ok)return e.json();throw new Error("No such place")})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=(n(18),n(19),n(20),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={city:"",country:"",icon:"",temp_celsius:0,temp_max:0,temp_min:0,description:"",error:"",image:""},e.weatherIcon={Thunderstorm:"wi-thunderstorm",Drizzle:"wi-sleet",Rain:"wi-storm-shower",Snow:"wi-snow",Atmosphere:"wi-fog",Clear:"wi-day-sunny",Clouds:"wi-day-fog"},e.getWeatherIcon=function(t){switch(!0){case t>=200&&t<=232:e.setState({icon:e.weatherIcon.Thunderstorm});break;case t>=300&&t<=321:e.setState({icon:e.weatherIcon.Drizzle});break;case t>=500&&t<=531:e.setState({icon:e.weatherIcon.Rain});break;case t>=600&&t<=622:e.setState({icon:e.weatherIcon.Snow});break;case t>=701&&t<=781:e.setState({icon:e.weatherIcon.Atmosphere});break;case 800===t:e.setState({icon:e.weatherIcon.Clear});break;default:e.setState({icon:e.weatherIcon.Clouds})}},e.calcCelsius=function(e){return Math.floor(e-273.15)},e.loadWeather=function(){var t=Object(u.a)(i.a.mark((function t(n){var r,c,a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=n.target.elements.city.value,c=n.target.elements.country.value,!r||!c){t.next=16;break}return t.next=6,x(r.toLowerCase(),c.toLowerCase());case 6:return a=t.sent,t.next=9,y(r);case 9:s=t.sent,console.log(a),console.log(s),e.getWeatherIcon(a.weather[0].id),e.setState({city:"".concat(a.name,", ").concat(a.sys.country),country:a.sys.country,temp_celsius:e.calcCelsius(a.main.temp),temp_max:e.calcCelsius(a.main.temp_max),temp_min:e.calcCelsius(a.main.temp_min),description:a.weather[0].description,error:!1,image:s.results[0].urls.raw}),t.next=17;break;case 16:e.setState({error:!0});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(n,[{key:"render",value:function(){var e=this.state,t=e.city,n=e.temp_celsius,r=e.temp_max,c=e.temp_min,a=e.description,s=e.icon,o=e.error,i=e.image;return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(f,{loadWeather:this.loadWeather,error:o}),Object(d.jsx)(w,{city:t,temp_celsius:n,temp_max:r,temp_min:c,description:a,weatherIcon:s}),t&&Object(d.jsx)("img",{className:"app__image",src:i,alt:"".concat(t," img")})]})}}]),n}(c.a.Component)),v=O;s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.848629ff.chunk.js.map